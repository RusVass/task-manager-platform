# ‚úÖ Task Manager API

–ü—Ä–æ—Å—Ç–∏–π REST API –¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è –∑–∞–¥–∞—á–∞–º–∏ –Ω–∞ Express + MongoDB –∑ JWT –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—î—é, —Ä–æ–ª—è–º–∏ admin / user —Ç–∞ Swagger UI.

## üöÄ –°—Ç–µ–∫
- Node.js
- Express
- MongoDB + Mongoose
- JWT (Bearer Token)
- Swagger UI
- Nodemon

## ‚úÖ –í–∏–º–æ–≥–∏
- Node.js 20+
- –ë—É–¥—å-—è–∫–∏–π –¥–æ—Å—Ç—É–ø–Ω–∏–π MongoDB (cloud / –ª–æ–∫–∞–ª—å–Ω–æ) —É `MONGODB_URI`
- NPM –¥–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫—É –∞–±–æ Docker –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

## ‚öôÔ∏è –õ–æ–∫–∞–ª—å–Ω–∏–π –∑–∞–ø—É—Å–∫
1. –í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ
   ```
   npm install
   ```
2. –°—Ç–≤–æ—Ä–∏—Ç–∏ .env
   ```
   MONGODB_URI="your-mongodb-uri"
   PORT=3001
   JWT_SECRET="your-jwt-secret"
   ```
3. –ó–∞–ø—É—Å—Ç–∏—Ç–∏ —Å–µ—Ä–≤–µ—Ä
   ```
   npm run dev
   ```

–°–µ—Ä–≤–µ—Ä —Å—Ç–∞—Ä—Ç—É—î –Ω–∞ http://localhost:3001 (–º–æ–∂–Ω–∞ –∑–º—ñ–Ω–∏—Ç–∏ —á–µ—Ä–µ–∑ `PORT`).

–î–ª—è –ø—Ä–æ–¥–∞–∫—à–µ–Ω-–∑–∞–ø—É—Å–∫—É –±–µ–∑ nodemon:
```
npm ci
node server.js
```

## üê≥ Docker
1. –°—Ç–≤–æ—Ä—ñ—Ç—å `.env` (–∞–Ω–∞–ª–æ–≥—ñ—á–Ω–æ –ª–æ–∫–∞–ª—å–Ω–æ–º—É –∑–∞–ø—É—Å–∫—É).
2. –ó–±–µ—Ä—ñ—Ç—å –æ–±—Ä–∞–∑ —ñ –ø—ñ–¥–Ω—ñ–º—ñ—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä:
   ```
   npm run docker:build
   npm run docker:up
   ```
3. –õ–æ–≥–∏: `npm run docker:logs`  
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫: `npm run docker:restart`  
5. –ó—É–ø–∏–Ω–∫–∞ —Ç–∞ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞: `npm run docker:down`

–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä —Å–ª—É—Ö–∞—î –ø–æ—Ä—Ç `3001` –≤—Å–µ—Ä–µ–¥–∏–Ω—ñ; –º–∞–ø—ñ–Ω–≥ —É —Å–∫—Ä–∏–ø—Ç–∞—Ö –≤–∂–µ —Ä–æ–±–∏—Ç—å `-p 3001:3001`.

## üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è (JWT)
### ‚úÖ –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è
`POST /api/auth/register`

Body:
```
{
  "username": "test",
  "email": "test@gmail.com",
  "password": "123456"
}
```

- –†–æ–ª—å –ø—Ä–∏–º—É—Å–æ–≤–æ –≤—Å—Ç–∞–Ω–æ–≤–ª—é—î—Ç—å—Å—è —è–∫ user.
- –ü–æ–ª–µ role –∑ body —ñ–≥–Ω–æ—Ä—É—î—Ç—å—Å—è.

### ‚úÖ –õ–æ–≥—ñ–Ω
`POST /api/auth/login`

Body:
```
{
  "email": "test@gmail.com",
  "password": "123456"
}
```

–í—ñ–¥–ø–æ–≤—ñ–¥—å:
```
{
  "token": "...",
  "user": {
    "_id": "...",
    "email": "...",
    "role": "admin | user"
  }
}
```

### üîë Bearer Token
–£ –≤—Å—ñ –∑–∞—Ö–∏—â–µ–Ω—ñ –∑–∞–ø–∏—Ç–∏ –¥–æ–¥–∞–≤–∞–π –∑–∞–≥–æ–ª–æ–≤–æ–∫:

`Authorization: Bearer <token>`

## üë• –†–æ–ª—ñ
| –†–æ–ª—å | –ü—Ä–∞–≤–∞ |
| --- | --- |
| user | –ü—Ä–∞—Ü—é—î —Ç—ñ–ª—å–∫–∏ –∑—ñ —Å–≤–æ—ó–º–∏ –∑–∞–¥–∞—á–∞–º–∏ |
| admin | –ü—Ä–∞—Ü—é—î –∑—ñ —Å–≤–æ—ó–º–∏ –∑–∞–¥–∞—á–∞–º–∏ + –±–∞—á–∏—Ç—å –≤—Å—ñ –∑–∞–¥–∞—á—ñ |

> –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∑–∞–≤–∂–¥–∏ —Å—Ç–≤–æ—Ä—é—î –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑ —Ä–æ–ª–ª—é `user`. –†–æ–ª—å `admin` –º–æ–∂–Ω–∞ –≤–∏–¥–∞—Ç–∏ –≤—Ä—É—á–Ω—É —á–µ—Ä–µ–∑ –±–∞–∑—É –¥–∞–Ω–∏—Ö.

## ‚úÖ Tasks API (–ø–æ—Ç—Ä—ñ–±–µ–Ω Bearer Token)
### ‚ûï –°—Ç–≤–æ—Ä–∏—Ç–∏ –∑–∞–¥–∞—á—É
`POST /api/task`

Body:
```
{
  "description": "My first task"
}
```

### üìÑ –û—Ç—Ä–∏–º–∞—Ç–∏ –°–í–û–á –∑–∞–¥–∞—á—ñ
`GET /api/task/my`

–î–æ—Å—Ç—É–ø: user, admin

### üìÑ –û—Ç—Ä–∏–º–∞—Ç–∏ –í–°–Ü –∑–∞–¥–∞—á—ñ
`GET /api/task`

–î–æ—Å—Ç—É–ø: —Ç—ñ–ª—å–∫–∏ admin

### üîç –û—Ç—Ä–∏–º–∞—Ç–∏ –æ–¥–Ω—É —Å–≤–æ—é –∑–∞–¥–∞—á—É
`GET /api/task/:id`

–î–æ—Å—Ç—É–ø: —Ç—ñ–ª—å–∫–∏ –≤–ª–∞—Å–Ω–∏–∫ –∑–∞–¥–∞—á—ñ

### ‚úèÔ∏è –û–Ω–æ–≤–∏—Ç–∏ –∑–∞–¥–∞—á—É
`PUT /api/task/:id`

Body:
```
{
  "description": "Updated text",
  "completed": true
}
```

–î–æ—Å—Ç—É–ø: —Ç—ñ–ª—å–∫–∏ –≤–ª–∞—Å–Ω–∏–∫ –∑–∞–¥–∞—á—ñ

### üóë –í–∏–¥–∞–ª–∏—Ç–∏ –∑–∞–¥–∞—á—É
`DELETE /api/task/:id`

–î–æ—Å—Ç—É–ø: —Ç—ñ–ª—å–∫–∏ –≤–ª–∞—Å–Ω–∏–∫ –∑–∞–¥–∞—á—ñ

## üìò Swagger UI
–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –¥–æ—Å—Ç—É–ø–Ω–∞ –∑–∞ –∞–¥—Ä–µ—Å–æ—é:

`GET /api/docs`

–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å Authorize —Ç–∞ –≤—Å—Ç–∞–≤—Ç–µ `Bearer <token>` –¥–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –∑–∞—Ö–∏—â–µ–Ω–∏—Ö –µ–Ω–¥–ø–æ—ñ–Ω—Ç—ñ–≤.

## üõ† –ö–æ—Ä–∏—Å–Ω—ñ –∫–æ–º–∞–Ω–¥–∏
```
npm run dev          # –∑–∞–ø—É—Å–∫ –∑ nodemon
npm run lint:check
npm run lint:fix
npm run format:check
npm run format:write
npm run docker:build # –∑–±–∏—Ä–∞–Ω–Ω—è Docker-–æ–±—Ä–∞–∑—É
npm run docker:up    # –ø—ñ–¥–Ω—è—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
npm run docker:down  # –∑—É–ø–∏–Ω–∏—Ç–∏ —Ç–∞ –≤–∏–¥–∞–ª–∏—Ç–∏ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
npm run docker:restart
npm run docker:logs
```

## üìù –ù–æ—Ç–∞—Ç–∫–∏
- –û–±–æ–≤ º—è–∑–∫–æ–≤—ñ –∑–º—ñ–Ω–Ω—ñ —Å–µ—Ä–µ–¥–æ–≤–∏—â–∞:
  - `MONGODB_URI`
  - `PORT`
  - `JWT_SECRET`
- –ù–∞–ø–æ–≤–Ω–µ–Ω–Ω—è –±–∞–∑–∏ –≤—ñ–¥–±—É–≤–∞—î—Ç—å—Å—è —Ç—ñ–ª—å–∫–∏ —á–µ—Ä–µ–∑ API
- –í—Å—ñ –∑–∞–¥–∞—á—ñ –ø—Ä–∏–≤ º—è–∑–∞–Ω—ñ –¥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ —á–µ—Ä–µ–∑ createBy
- –ê–¥–º—ñ–Ω—ñ—Å—Ç—Ä–∞—Ç–æ—Ä –±–∞—á–∏—Ç—å —É—Å—ñ –∑–∞–¥–∞—á—ñ —Å–∏—Å—Ç–µ–º–∏